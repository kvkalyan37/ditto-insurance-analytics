# Default values for ditto-insurance
# This is a YAML-formatted file.

replicaCount: 2

frontend:
  image:
    repository: ditto-frontend
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: NodePort
    port: 80
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

api:
  image:
    repository: ditto-api
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 200m
      memory: 256Mi

dataUpdater:
  enabled: true
  schedule: "0 2 * * *" # Daily at 2 AM
  image:
    repository: ditto-scraper
    tag: "1.0.0"

persistence:
  enabled: true
  storageClass: ""
  accessMode: ReadWriteOnce
  size: 1Gi

# Deployment strategy for zero-downtime
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 0
  minReadySeconds: 5

# Probes configuration
probes:
  readiness:
    initialDelaySeconds: 2
    periodSeconds: 2
    timeoutSeconds: 1
    failureThreshold: 3
  liveness:
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 2
    failureThreshold: 3

